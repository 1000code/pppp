{"version":3,"sources":["Pages/Warehouse/ParcelInWarehouse.jsx"],"names":["ParcelInWarehouse","_initialState","_ref3","_ref5","_ref7","user","useSelector","state","Object","_Users_1000code_Desktop_branch_cloudexpress_com_node_modules_pnpm_babel_runtime_7_3_1_node_modules_babel_runtime_helpers_esm_objectSpread__WEBPACK_IMPORTED_MODULE_2__","token","_date","moment","Date","format","_useState","useState","_useState2","_Users_1000code_Desktop_branch_cloudexpress_com_node_modules_pnpm_babel_runtime_7_3_1_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_1__","copy","setCopy","_useState3","_useState4","filterData","setFilterData","_useState5","_useState6","page","setPage","_useState7","_useState8","pageSize","setPageSize","_useState9","_useState10","_useState11","_useState12","_useState13","_useState14","_useState15","_useState16","showModal","setShowModal","_useState17","_useState18","_useState19","_useState20","_useState21","_useState22","_useState23","_useState24","_useState25","_useState26","_useState27","p_poste","c_poste","branch_end","_useState28","_useState29","branch_code","type","_useState30","infoSerial","setInfoSerial","_useState31","_useState32","serialParcel","setSerialParcel","_useState33","_useState34","_useState35","_useState36","_useState37","_useState38","_useState39","_useState40","_useState41","_useState42","_useState43","_useState44","_useState45","_useState46","_useState47","_useState48","setData","initialState","user_id","serial_parcel","serial_bag","cus_receive_name","cus_receive_phone","status_tracking","cus_sender_name","cus_sender_phone","express_type","address_receive","branch_start","location_parcel","name_branch_end","parcel_type","box_size","parcel_weight","shipping_cost","payment_type","id_rider","cancel_code","cancel_parcel","cancel_by","cancel_reason","currency_express","exchange_thb","exchange_usd","comment","branch_type","user_type","name_branch_start","phone_branch_end","today","cod","currency_cod","_Users_1000code_Desktop_branch_cloudexpress_com_node_modules_pnpm_babel_runtime_7_3_1_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_0__","_useState49","_useState50","newParcel","_useState51","village_name","city_name","province_name","created_at","status_parcel","warehouse_now","id","_useState52","parcel","useEffect","loadParcelByTrackingDate","substr","handleClose","getParcelTracking","then","res","data","length","catch","err","Notice","response","error","finish","_useState53","_useState54","columns","title","key","render","row","react__WEBPACK_IMPORTED_MODULE_3___default","a","createElement","className","react_copy_to_clipboard__WEBPACK_IMPORTED_MODULE_20___default","text","onCopy","filterDropdown","_ref","setSelectedKeys","selectedKeys","confirm","antd__WEBPACK_IMPORTED_MODULE_16__","autoFocus","placeholder","value","onChange","e","target","closeDropdown","onPressEnter","filterIcon","_ant_design_icons__WEBPACK_IMPORTED_MODULE_18__","onFilter","record","toLowerCase","includes","branch_join","name","_ref2","indexOf","b","_ref4","_ref6","parcelType","Number","toLocaleString","onClick","role","antd__WEBPACK_IMPORTED_MODULE_17__","dataSource","bordered","pagination","total","showTotal","concat","current","pageSizeOptions","showPageSizeOptions","_mui_material_Modal__WEBPACK_IMPORTED_MODULE_12__","open","onClose","aria-labelledby","aria-describedby","_mui_material_Box__WEBPACK_IMPORTED_MODULE_13__","sx","position","top","left","transform","width","bgcolor","border","boxShadow","p","react_router_dom__WEBPACK_IMPORTED_MODULE_21__","to"],"mappings":"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","file":"static/js/25.5869c1fd.chunk.js","sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport SearchIcon from \"@mui/icons-material/Search\";\nimport Alert from \"../../Components/Alert\";\nimport { Notice } from \"../../Components/Notice\";\nimport {\n  setTrackingParcel,\n  getParcelTracking,\n  setReturnParcel,\n  getSerialParcel,\n} from \"../../API/Parcel\";\nimport {\n  getAllChargeSpecial,\n  getAllChargeGeneral,\n  getAllChargeFruit,\n  getAllChargeByWeight,\n  getAllChargeAnimal,\n  getGeneralChargeStart,\n} from \"../../API/Charge\";\nimport { getAllProvinces, getCityByP_poste } from \"../../API/Address\";\nimport { getBranchesByC_poste } from \"../../API/Branches\";\nimport { useSelector } from \"react-redux\";\nimport moment from \"moment\";\nimport Modal from \"@mui/material/Modal\";\nimport Box from \"@mui/material/Box\";\nimport QRCode from \"react-qr-code\";\nimport { parcelType } from \"../../Functions/Functions\";\nimport { Table, Input } from \"antd\";\nimport { SearchOutlined } from \"@ant-design/icons\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport CopyToClipboard from \"react-copy-to-clipboard\";\nimport { Link } from \"react-router-dom\";\n\nconst ParcelInWarehouse = () => {\n  const { user } = useSelector((state) => ({ ...state }));\n  const { token } = user;\n\n  const _today = moment(new Date()).format(\"YYYY-MM-DD\");\n  const _date = moment(new Date()).format(\"YYYY-MM-DD H:m:s\");\n  const [copy, setCopy] = useState(\"\");\n  const [filterData, setFilterData] = useState([]);\n  const [page, setPage] = useState(1);\n  const [pageSize, setPageSize] = useState(15);\n  const [provinces, setProvinces] = useState([]);\n  const [city, setCity] = useState([]);\n  const [branches, setBranches] = useState([]);\n  const [showModal, setShowModal] = useState(false);\n  const [showConfirm, setShowConfirm] = useState(false);\n  const [showBigData, setShowBigData] = useState(false);\n  const [checkReturn, setCheckReturn] = useState(true);\n  const [showNewBranch, setShowNewBranch] = useState(false);\n  const [confirm, setConfirm] = useState(false);\n  const [error, setError] = useState({\n    p_poste: \"\",\n    c_poste: \"\",\n    branch_end: \"\",\n  });\n  const [infoSerial, setInfoSerial] = useState({\n    branch_code: \"\",\n    type: \"\",\n  });\n  const [serialParcel, setSerialParcel] = useState(\"\");\n  const [dateNow, setDateNow] = useState(\"\");\n\n  const [chargeGeneral, setChargeGeneral] = useState([]);\n  const [chargeWeight, setChargeWeight] = useState([]);\n  const [chargeSpecial, setChargeSpecial] = useState([]);\n  const [chargeAnimal, setChargeAnimal] = useState([]);\n  const [chargeFruit, setChargeFruit] = useState([]);\n  const [chargeStart, setChargeStart] = useState([]);\n\n  const [data, setData] = useState([]);\n  const initialState = {\n    user_id: \"\",\n    serial_parcel: \"\",\n    serial_bag: \"\",\n    cus_receive_name: \"\",\n    cus_receive_phone: \"\",\n    status_tracking: \"\",\n    cus_sender_name: \"\",\n    cus_sender_phone: \"\",\n    express_type: \"branch\",\n    p_poste: \"\",\n    c_poste: \"\",\n    address_receive: \"\",\n    branch_start: \"\",\n    location_parcel: \"\",\n    branch_end: \"\",\n    name_branch_end: \"\",\n    parcel_type: \"general\",\n    box_size: \"\",\n    parcel_weight: \"\",\n    shipping_cost: \"\", // ຄ່າຂົນສົ່ງ\n    payment_type: \"pay_start\",\n    id_rider: \"\",\n    cancel_code: \"\",\n    cancel_parcel: \"\",\n    cancel_by: \"\",\n    cancel_reason: \"\",\n    currency_express: \"lak\",\n    exchange_thb: \"\",\n    exchange_usd: \"\",\n    comment: \"\",\n    branch_type: user.user_type,\n    name_branch_start: \"\",\n    phone_branch_end: \"\",\n    //========================\n    today: \"\",\n    cod: \"\",\n    currency_cod: \"\",\n    phone_branch_end: \"\",\n    village_name: \"\",\n    city_name: \"\",\n    province_name: \"\",\n    created_at: \"\",\n  };\n  const [newParcel, setNewParcel] = useState(initialState);\n\n  const {\n    user_id,\n    serial_parcel,\n    serial_bag,\n    cus_receive_name,\n    cus_receive_phone,\n\n    cus_sender_name,\n    cus_sender_phone,\n\n    express_type,\n    p_poste,\n    c_poste,\n    address_receive,\n    branch_start,\n    location_parcel,\n    branch_end,\n    name_branch_end,\n    parcel_type,\n    box_size,\n    parcel_weight,\n    shipping_cost,\n    payment_type,\n    id_rider,\n    cancel_code,\n    cancel_parcel,\n    cancel_by,\n    cancel_reason,\n    currency_express,\n    exchange_thb,\n    exchange_usd,\n    comment,\n    today,\n    cod,\n    currency_cod,\n\n    phone_branch_end,\n    village_name,\n    city_name,\n    province_name,\n    created_at,\n  } = newParcel;\n\n  const [parcel, setParcel] = useState({\n    serial_parcel: \"\",\n    box_size: \"\",\n    parcel_weight: \"\",\n    parcel_type: \"\",\n    shipping_cost: \"\",\n    today: \"\",\n    status_tracking: user.status_tracking,\n    status_parcel: user.user_type,\n    warehouse_now: user.branch_code,\n    user_id: user.id,\n    created_at: _date,\n    p_poste: \"\",\n    c_poste: \"\",\n    branch_end: \"\",\n    branch_start: \"\",\n\n    village_name: \"\",\n    city_name: \"\",\n    province_name: \"\",\n  });\n\n  useEffect(() => {\n    _date !== \"\" && loadParcelByTrackingDate(parcel, token);\n    setInfoSerial({\n      ...infoSerial,\n      branch_code: user.branch_code.substr(0, 3),\n      type: \"p\",\n    });\n  }, []);\n\n  const handleClose = () => {\n    setShowModal(false);\n    setSerialParcel(\"\");\n  };\n\n  const loadParcelByTrackingDate = (parcel, token) => {\n    getParcelTracking(parcel, token)\n      .then((res) => {\n        if (res.data.length > 0) {\n          setFilterData(res.data);\n          setData(res.data[0]);\n        }\n      })\n\n      .catch((err) => {\n        Notice(\"error\", err.response.data.error);\n        if (err.response.data.finish) Notice(\"info\", err.response.data.finish);\n      });\n  };\n\n  const LoadParcel = (parcel, token) => {\n    setTrackingParcel(parcel, token)\n      .then((res) => {\n        setParcel({ ...parcel, serial_parcel: \"\" });\n        loadParcelByTrackingDate(parcel, token);\n\n        if (res.data.finish) {\n          Notice(\"info\", res.data.finish);\n        } else if (res.data.inHouse) {\n          Notice(\"warning\", res.data.inHouse);\n        } else if (res.data.success) {\n          Notice(\"success\", res.data.success);\n        }\n      })\n      .catch((err) => {\n        Notice(\"error\", err.response.data.error);\n        setParcel({ ...parcel, serial_parcel: \"\" });\n      });\n  };\n\n  const handleSearchParcel = (e) => {\n    setParcel({\n      ...parcel,\n      serial_parcel: e.target.value,\n      today: _today,\n    });\n  };\n\n  const handleCityChange = (e) => {\n    setNewParcel({ ...newParcel, c_poste: e.target.value });\n    _getBranchByC_poste(e.target.value, token);\n    setError({\n      ...error,\n      p_poste: \"\",\n      c_poste: \"\",\n      branch_end: \"ກະລຸນາ ຈຸດບໍລີການ\",\n    });\n  };\n\n  const _getBranchByC_poste = (c_poste, token) => {\n    c_poste !== \"\" &&\n      getBranchesByC_poste(c_poste, token)\n        .then((res) => {\n          setBranches(res.data);\n        })\n        .catch((err) => {\n          Alert(err.response.data.error);\n        });\n  };\n\n  const handleSearchParcelSubmit = (e) => {\n    e.preventDefault();\n\n    if (serial_parcel === \"\") {\n      Notice(\"error\", \"ກະລຸນາປ້ອນໝາຍເລກ ພັດສະດຸ\");\n    } else {\n      LoadParcel(parcel, token);\n    }\n  };\n\n  const showStatusParcel = (status) => {\n    if (status === \"success\") {\n      return <div className=\"text-success\">ສຳເລັດ</div>;\n    } else {\n      return <div className=\"text-warning\">ລໍຖ້າ</div>;\n    }\n  };\n\n  const handleShowModal = (serial_parcel) => {\n    setSerialParcel(serial_parcel);\n    setShowModal(true);\n  };\n\n  // ======================== calculator shipping cost =====================================\n  const [showPrice, setShowPrice] = useState(null);\n\n  const currencyCod = (cod) => {\n    setShowModal(true);\n  };\n\n  const showCOD = (cod) => {\n    let result = \"\";\n    if (cod.cod_join && cod.cod_join.length > 0) {\n      const { cod_lak, cod_thb, cod_usd, currency_cod } = cod.cod_join[0];\n\n      if (cod_lak !== null) {\n        result = cod_lak;\n      } else if (cod_thb !== null) {\n        result = cod_thb;\n      } else if (cod_usd !== null) {\n        result = cod_usd;\n      } else {\n        result = null;\n      }\n    }\n    return result;\n  };\n\n  const style = {\n    position: \"absolute\",\n    top: \"50%\",\n    left: \"50%\",\n    transform: \"translate(-50%, -50%)\",\n    width: 500,\n    bgcolor: \"background.paper\",\n    border: \"2px solid #DC3545\",\n    boxShadow: 24,\n    p: 4,\n  };\n\n  const columns = [\n    {\n      title: \"ເລກພັດສະດຸ\",\n      key: \"1\",\n      render: (row) => (\n        <div className=\"text-danger\">\n          {row.serial_parcel}\n          <span className=\"\">\n            <CopyToClipboard\n              text={row.serial_parcel}\n              onCopy={() => setCopy(row.serial_parcel)}\n            >\n              <span className=\"ms-2 text-warning btn\">\n                <i className=\"fa-solid fa-copy\"></i>\n              </span>\n            </CopyToClipboard>\n          </span>\n          <span\n            className={\n              copy === row.serial_parcel\n                ? \"text-secondary ms-2\"\n                : \"text-white ms-2\"\n            }\n          >\n            Copied\n          </span>\n        </div>\n      ),\n      filterDropdown: ({ setSelectedKeys, selectedKeys, confirm }) => {\n        return (\n          <Input\n            autoFocus\n            placeholder=\"ຄົ້ນຫາ...\"\n            value={selectedKeys[0]}\n            onChange={(e) => {\n              setSelectedKeys(e.target.value ? [e.target.value] : []);\n              confirm({ closeDropdown: false });\n            }}\n            onPressEnter={() => {\n              confirm();\n            }}\n          ></Input>\n        );\n      },\n      filterIcon: () => {\n        return <SearchOutlined />;\n      },\n      onFilter: (value, record) => {\n        //if data is number (record.number == value)\n        return record.serial_parcel.toLowerCase().includes(value.toLowerCase());\n      },\n    },\n    {\n      title: \"ສາຂາປາຍທາງ\",\n      key: \"2\",\n      render: (row) => (\n        <div>\n          <p>{row.branch_join[0].name}</p>\n          <p className=\"subtext\">{row.branch_join[0].branch_code}</p>\n        </div>\n      ),\n      filterDropdown: ({ setSelectedKeys, selectedKeys, confirm }) => {\n        return (\n          <Input\n            autoFocus\n            placeholder=\"ຄົ້ນຫາ...\"\n            value={selectedKeys[0]}\n            onChange={(e) => {\n              setSelectedKeys(e.target.value ? [e.target.value] : []);\n              confirm({ closeDropdown: false });\n            }}\n            onPressEnter={() => {\n              confirm();\n            }}\n          ></Input>\n        );\n      },\n      filterIcon: () => {\n        return <SearchOutlined />;\n      },\n      onFilter: (value, record) => {\n        //if data is number (record.number == value)\n        return record.branch_join[0].name\n          .toLowerCase()\n          .includes(value.toLowerCase());\n      },\n      onFilter: (value, record) =>\n        record.branch_join[0].name.indexOf(value) === 0,\n      sorter: (a, b) =>\n        a.branch_join[0].name.length - b.branch_join[0].name.length,\n    },\n    {\n      title: \"ຜູ້ຮັບ\",\n      key: \"3\",\n      render: (row) => (\n        <div>\n          <p>{row.cus_receive_name}</p>\n          <p className=\"subtext\">{row.cus_receive_phone}</p>\n        </div>\n      ),\n      filterDropdown: ({ setSelectedKeys, selectedKeys, confirm }) => {\n        return (\n          <Input\n            autoFocus\n            placeholder=\"ຄົ້ນຫາ...\"\n            value={selectedKeys[0]}\n            onChange={(e) => {\n              setSelectedKeys(e.target.value ? [e.target.value] : []);\n              confirm({ closeDropdown: false });\n            }}\n            onPressEnter={() => {\n              confirm();\n            }}\n          ></Input>\n        );\n      },\n      filterIcon: () => {\n        return <SearchOutlined />;\n      },\n      onFilter: (value, record) => {\n        return record.cus_receive_name\n          .toLowerCase()\n          .includes(value.toLowerCase());\n      },\n      onFilter: (value, record) => record.cus_receive_name.indexOf(value) === 0,\n      sorter: (a, b) => a.cus_receive_name.length - b.cus_receive_name.length,\n    },\n    {\n      title: \"ຜູ້ສົ່ງ\",\n      key: \"4\",\n      render: (row) => (\n        <div>\n          <p>{row.cus_sender_name}</p>\n          <p className=\"subtext\">{row.cus_sender_phone}</p>\n        </div>\n      ),\n      filterDropdown: ({ setSelectedKeys, selectedKeys, confirm }) => {\n        return (\n          <Input\n            autoFocus\n            placeholder=\"ຄົ້ນຫາ...\"\n            value={selectedKeys[0]}\n            onChange={(e) => {\n              setSelectedKeys(e.target.value ? [e.target.value] : []);\n              confirm({ closeDropdown: false });\n            }}\n            onPressEnter={() => {\n              confirm();\n            }}\n          ></Input>\n        );\n      },\n      filterIcon: () => {\n        return <SearchOutlined />;\n      },\n      onFilter: (value, record) => {\n        return record.cus_sender_name\n          .toLowerCase()\n          .includes(value.toLowerCase());\n      },\n      onFilter: (value, record) => record.cus_sender_name.indexOf(value) === 0,\n      sorter: (a, b) => a.cus_sender_name.length - b.cus_sender_name.length,\n    },\n    {\n      title: \"ປະເພດພັດສະດຸ\",\n      key: \"5\",\n      render: (row) => (\n        <div>\n          <p>{parcelType(row.parcel_type)}</p>\n        </div>\n      ),\n    },\n    {\n      title: \"ຄ່າຂົນສົ່ງ\",\n      key: \"6\",\n      render: (row) => (\n        <div>\n          <p>{Number(row.shipping_cost).toLocaleString() + \" ກີບ\"}</p>\n        </div>\n      ),\n    },\n    {\n      title: \"ສະຖານະ\",\n      key: \"7\",\n      render: (row) => (\n        <div>\n          <p>{showStatusParcel(row.status_parcel)}</p>\n        </div>\n      ),\n    },\n    {\n      title: \"ຕີກັບ\",\n      key: \"8\",\n      render: (row) => (\n        <div\n          className=\"btn text-warning btn-sm\"\n          onClick={() => {\n            handleShowModal(row.serial_parcel);\n          }}\n          role=\"button\"\n          id=\"cancelparcel\"\n        >\n          ຕີກັບ\n        </div>\n      ),\n    },\n  ];\n\n  return (\n    <div className=\"container card card-body\">\n      <div className=\"h2 text-danger\">ພັດສະດຸ ໃນສາງ</div>\n      <Table\n        columns={columns}\n        dataSource={filterData}\n        bordered\n        pagination={{\n          total: filterData,\n          showTotal: (total) => `ລາຍການທັງໝົດ ${total} ລາຍການ`,\n          current: page,\n          pageSize: pageSize,\n          pageSizeOptions: [\"5\", \"10\", \"20\", \"50\", \"100\"],\n          showPageSizeOptions: true,\n          onChange: (page, pageSize) => {\n            setPage(page);\n            setPageSize(pageSize);\n          },\n        }}\n      />\n      <Modal\n        open={showModal}\n        onClose={handleClose}\n        aria-labelledby=\"modal-title\"\n        aria-describedby=\"modaldescription\"\n      >\n        <Box sx={style}>\n          <p className=\"text-center h2 mb-3 text-danger\">ແຈ້ງເຕືອນ !</p>\n          <p className=\"text-center h6 mb-2 \">\n            ແນ່ໃຈຫຼືບໍ ທີ່ຈະປ່ຽນເສັ້ນທາງຂອງພັດສະດຸນີ້\n          </p>\n          <p className=\"text-center text-danger h6\">{serialParcel}</p>\n          <div className=\"d-flex justify-content-around mt-4\">\n            <Link\n              to={`/dashboard/parcel/resent/${serialParcel}`}\n              className=\" btn btn-danger btn-modal\"\n            >\n              ຢືນຢັນ\n            </Link>\n\n            <div onClick={handleClose} className=\"btn btn-secondary btn-modal \">\n              ຍົກເລີກ\n            </div>\n          </div>\n        </Box>\n      </Modal>\n    </div>\n  );\n};\n\nexport default ParcelInWarehouse;\n"],"sourceRoot":""}