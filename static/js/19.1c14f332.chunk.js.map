{"version":3,"sources":["API/Finance.js","Pages/Report/Mymoney.jsx"],"names":["getMyMoney","_ref","Object","_Users_1000code_Desktop_branch_cloudexpress_com_node_modules_pnpm_babel_runtime_7_3_1_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0__","_regeneratorRuntime","mark","_callee","data","auth_token","wrap","_context","prev","next","axios","post","process","headers","Content-Type","abrupt","sent","stop","_x","_x2","apply","this","arguments","getMoneyFromCounter","_ref2","_callee2","_context2","_x3","_x4","Mymoney","user","useSelector","state","_Users_1000code_Desktop_branch_cloudexpress_com_node_modules_pnpm_babel_runtime_7_3_1_node_modules_babel_runtime_helpers_esm_objectSpread__WEBPACK_IMPORTED_MODULE_1__","token","_useState","useState","_useState2","_Users_1000code_Desktop_branch_cloudexpress_com_node_modules_pnpm_babel_runtime_7_3_1_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_0__","users","setUser","_useState3","_useState4","total","setTotal","_useState5","_useState6","_useState7","_useState8","_useState9","Date","_useState10","dateStart","setDateStart","_useState11","_useState12","dateEnd","setDateEnd","_useState13","branch_code","date_start","date_end","user_id","id","_useState14","search","setSearch","useEffect","then","res","money","catch","err","Alert","error","response","dateFormat","date","d","month","getMonth","day","getDate","year","getFullYear","length","join","dateFormatAux","react__WEBPACK_IMPORTED_MODULE_2___default","a","createElement","Fragment","className","react_datepicker__WEBPACK_IMPORTED_MODULE_5___default","selected","onChange","handleDateStart","showTimeSelect","placeholderText","maxDate","handleDateEnd","rowSpan","colSpan","username","undefined","shipping_cost","toLocaleString","cod_lak","cod_thb","cod_usd"],"mappings":"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","file":"static/js/19.1c14f332.chunk.js","sourcesContent":["import axios from \"axios\";\n\nexport const getMyMoney = async (data, auth_token) => {\n  return await axios.post(\n    process.env.REACT_APP_API_PATH + \"/get-my-money\",\n    data,\n    {\n      headers: {\n        \"Content-Type\": \"application/json\",\n        auth_token,\n      },\n    }\n  );\n};\nexport const getMoneyFromCounter = async (data, auth_token) => {\n  return await axios.post(\n    process.env.REACT_APP_API_PATH + \"/get-money-from-counter\",\n    data,\n    {\n      headers: {\n        \"Content-Type\": \"application/json\",\n        auth_token,\n      },\n    }\n  );\n};\n\n// export const getParcelsInBranch = async (data, auth_token) => {\n//   return await axios.post(\n//     process.env.REACT_APP_API_PATH + \"/dividends-for-branch\",\n//     data,\n//     {\n//       headers: {\n//         \"Content-Type\": \"application/json\",\n//         auth_token,\n//       },\n//     }\n//   );\n// };\n","import React, { useEffect, useState } from \"react\";\nimport Alert from \"../../Components/Alert\";\n\n// import DatePicker from \"react-date-picker\";\nimport { useSelector } from \"react-redux\";\n\nimport DatePicker from \"react-datepicker\";\nimport \"react-datepicker/dist/react-datepicker.css\";\nimport { getMyMoney } from \"../../API/Finance\";\n\nconst Mymoney = () => {\n  const { user } = useSelector((state) => ({ ...state }));\n  const { token } = user;\n\n  const [users, setUser] = useState([]);\n  const [total, setTotal] = useState([]);\n  const [showTotal, setShowTotal] = useState(false);\n  const [showCOD, setShowCOD] = useState(false);\n\n  const [dateStart, setDateStart] = useState(new Date());\n  const [dateEnd, setDateEnd] = useState(new Date());\n  const [search, setSearch] = useState({\n    branch_code: user.branch_code,\n    date_start: \"\",\n    date_end: new Date(),\n    user_id: user.id,\n  });\n\n  const { date_start, date_end } = search;\n\n  useEffect(() => {\n    date_start !== \"\" &&\n      date_end !== \"\" &&\n      getMyMoney(search, token)\n        .then((res) => {\n          setUser(res.data.user);\n          setTotal(res.data.money);\n        })\n        .catch((err) => {\n          Alert.error(err.response.data.error);\n        });\n  }, [search]);\n\n  // --------------- format date -----------------------\n  const handleDateStart = (date) => {\n    setDateStart(date);\n    setSearch({ ...search, date_start: dateFormat(date) });\n  };\n\n  const handleDateEnd = (date) => {\n    setDateEnd(date);\n    setSearch({ ...search, date_end: date });\n  };\n\n  const dateFormatAux = (date) => {\n    var d = new Date(date),\n      month = \"\" + (d.getMonth() + 1),\n      day = \"\" + d.getDate(),\n      year = d.getFullYear();\n\n    if (month.length < 2) month = \"0\" + month;\n    if (day.length < 2) day = \"0\" + day;\n\n    return [year, month, day].join(\"-\");\n  };\n\n  const dateFormat = (date) => {\n    let formatYearMonthDay = dateFormatAux(date);\n    return formatYearMonthDay;\n  };\n\n  return (\n    <>\n      <div className=\"container\">\n        <div className=\"card card-body\">\n          <h3 className=\"text-danger mb-3\">ຍອດເງິນທີ່ຕ້ອງສົ່ງ </h3>\n          <div className=\" row \">\n            <div className=\"col-auto\">\n              <DatePicker\n                selected={dateStart}\n                onChange={(date) => handleDateStart(date)}\n                showTimeSelect\n                dateFormat=\"dd/MM/yyyy HH:mm:ss\"\n                className=\"form-control\"\n                placeholderText=\"--/--/--\"\n                maxDate={new Date()}\n              />\n            </div>\n            <div className=\"col-auto\">\n              <DatePicker\n                selected={dateEnd}\n                onChange={(date) => handleDateEnd(date)}\n                showTimeSelect\n                dateFormat=\"dd/MM/yyyy HH:mm:ss\"\n                className=\"form-control\"\n                placeholderText=\"--/--/--\"\n                maxDate={new Date()}\n              />\n            </div>\n          </div>\n        </div>\n\n        {/* ------------------------------- */}\n        <div className=\"table-responsive text-nowrap \">\n          <div className=\"mt-3 \">\n            <div className=\"mb-3 table-responsive text-nowrap \">\n              <table className=\"table  table-borderless table-striped\">\n                <thead className=\"bg-danger  text-white\">\n                  <tr>\n                    <th rowSpan={2}>ພະນັກງານ</th>\n                    <th rowSpan={2}>ຮັບ-ຈ່າຍ</th>\n                    <th colSpan={3} className=\"cod-th\">\n                      COD\n                    </th>\n                  </tr>\n                  <tr>\n                    <th>LAK</th>\n                    <th>THB</th>\n                    <th>USD</th>\n                  </tr>\n                </thead>\n                <tbody>\n                  <tr>\n                    <td>{users.username}</td>\n                    {/* {total && ( */}\n                    <>\n                      <td>\n                        {total.shipping_cost !== undefined &&\n                          total.shipping_cost.toLocaleString() + \" ກີບ\"}\n                      </td>\n                      <td>\n                        {total.cod_lak !== undefined &&\n                          total.cod_lak.toLocaleString()}\n                      </td>\n                      <td>\n                        {total.cod_thb !== undefined &&\n                          total.cod_thb.toLocaleString()}\n                      </td>\n\n                      <td>\n                        {total.cod_usd !== undefined &&\n                          total.cod_usd.toLocaleString()}\n                      </td>\n                    </>\n                  </tr>\n                </tbody>\n              </table>\n            </div>\n          </div>\n        </div>\n      </div>\n    </>\n  );\n};\n\nexport default Mymoney;\n"],"sourceRoot":""}